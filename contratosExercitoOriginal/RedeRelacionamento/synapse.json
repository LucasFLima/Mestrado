{
    "swaggerVersion":"1.2",
    "id":"RedeRelacionamento",
    "version":"1.0.4",
    "produces":[
        "application/json"
    ],
    "apis":[
        {
            "path":"/regras/",
            "description":"Serviços disponíveis para as regras de uma rede de relacionamento",
            "operations":[
                {
                    "method":"POST",
                    "type":"RegraRedeRelacionamentoPostResponse",
                    "summary":"Insere uma nova regra de rede de relacionamento",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"parametros",
                            "type":"RegraRedeRelacionamentoPostRequest",
                            "paramType":"body",
                            "required":true
                        }
                    ]
                },
                {
                    "method":"GET",
                    "type":"RegraRededeRelacionamentoGetResponse",
                    "summary":"Retorna uma lista de regras associadas a determinado PIO",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"idPio",
                            "description":"Id do PIO associado as regras",
                            "paramType":"query",
                            "type":"string"
                        }
                    ]
                }
            ]
        },
        {
            "path":"/regras/{idRegra}",
            "description":"Serviços disponíveis para as regras de uma rede de relacionamento",
            "operations":[
                {
                    "method":"DELETE",
                    "type":"RegraRedeRelacionamentoDeleteResponse",
                    "summary":"Exclui uma regra de rede de relacionamento",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"idRegra",
                            "type":"string",
                            "paramType":"path",
                            "required":true
                        }
                    ]
                },
                {
                    "method":"GET",
                    "type":"RegraRedeRelacionamentoGetResponse",
                    "summary":"Busca uma regra de rede de relacionamento",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"idRegra",
                            "type":"string",
                            "paramType":"path",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/regras/{idRegra}/redesrelacionamento/",
            "description":"Serviços disponíveis para as redes de relacionamento de uma regra",
            "operations":[
                {
                    "method":"GET",
                    "type":"RedeRelacionamentoGetResponse",
                    "summary":"Lista as redes de relacionamento geradas a partir da regra informada",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"idRegra",
                            "type":"string",
                            "paramType":"path",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/regras/{idPio}/entidadesdisponiveis",
            "description":"Campos disponíveis para gerar uma regra",
            "operations":[
                {
                    "method":"GET",
                    "type":"RegraEntidadeDisponivelGetResponse",
                    "summary":"Retorna os campos disponíveis para comparação",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"idPio",
                            "type":"string",
                            "paramType":"path",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/regras/executar",
            "description":"Executa determinada regra de rede de relacionamento",
            "operations":[
                {
                    "method":"POST",
                    "type":"RegraRedeRelacionamentoExecutarGetResponse",
                    "summary":"Executa determinada regra de rede de relacionamento",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"parametros",
                            "type":"RegraRedeRelacionamentoExecutarRequest",
                            "paramType":"body",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/regras/validar",
            "description":"Valida determinada regra de rede de relacionamento",
            "operations":[
                {
                    "method":"POST",
                    "type":"RegraRedeRelacionamentoValidarResponse",
                    "summary":"Executa determinada regra de rede de relacionamento",
                    "consumes": [
                        "application/json"
                    ],
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"parametros",
                            "type":"RegraRedeRelacionamentoValidarRequest",
                            "paramType":"body",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/regras/{idEntidade}/camposdisponiveis",
            "description":"Campos disponíveis de acordo com uma entidade selecionada",
            "operations":[
                {
                    "method":"GET",
                    "type":"RegraCampoEntidadeResponse",
                    "summary":"Retorna os campos disponíveis de acordo com determinada entidade selecionada",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"idEntidade",
                            "type":"string",
                            "paramType":"path",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/redesrelacionamento/",
            "description":"Operações disponíveis para a funcionalidade rede de relacionamento",
            "operations":[
                {
                    "method":"GET",
                    "type":"RedeRelacionamentoGetResponse",
                    "summary":"Retorna as redes disponíveis para o PIO e usuários informados na busca",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"idPio",
                            "description":"Id do PIO associado as regras",
                            "paramType":"query",
                            "type":"string"
                        }
                    ]
                },
                {
                    "method":"POST",
                    "type":"RedeRelacionamentoPostResponse",
                    "summary":"Insere uma nova rede de relacionamento",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"parametros",
                            "type":"RedeRelacionamentoPostRequest",
                            "paramType":"body",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/redesrelacionamento/{idRede}",
            "description":"Operações disponíveis para a funcionalidade rede de relacionamento",
            "operations":[
                {
                    "method":"GET",
                    "type":"RedeRelacionamento",
                    "summary":"Retorna a rede que possuí o id informado",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        }
                    ]
                },
                {
                    "method":"PUT",
                    "type":"RedeRelacionamentoResponse",
                    "summary":"Atualiza uma rede de relacionamento",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"parametros",
                            "type":"RedeRelacionamentoPutRequest",
                            "paramType":"body",
                            "required":true
                        },
                        {
                            "name":"idRede",
                            "type":"string",
                            "paramType":"path",
                            "required":true
                        }
                    ]
                },
                {
                    "method":"DELETE",
                    "summary":"Exclui uma rede de relacionamento",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"parametros",
                            "type":"RedeRelacionamentoDeleteRequest",
                            "paramType":"body",
                            "required":true
                        },
                        {
                            "name":"idRede",
                            "type":"string",
                            "paramType":"path",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/redesrelacionamento/gerar",
            "description":"Gera uma rede a partir das entidades selecionadas",
            "operations":[
                {
                    "method":"POST",
                    "type":"RedeRelacionamento",
                    "summary":"Gera uma rede a partir das entidades selecionadas",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"parametros",
                            "type":"RedeRelacionamentoGerarRequest",
                            "paramType":"body",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/redesrelacionamento/expandir",
            "description":"Gera uma nova rede, apenas com uma entidade selecionada",
            "operations":[
                {
                    "method":"GET",
                    "type":"RedeRelacionamento",
                    "summary":"Gera uma rede a partir das entidades selecionadas",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        },
                        {
                            "name":"idEntidade",
                            "type":"string",
                            "paramType":"path",
                            "required":true
                        }
                    ]
                }
            ]
        },
        {
            "path":"/redesrelacionamento/pios",
            "description":"Pios relacionados à rede de relacionamento",
            "operations":[
                {
                    "method":"GET",
                    "type":"PiosRedeRelacionamento",
                    "summary":"Lista os pios com ao menos uma regra da rede de relacionamento",
                    "parameters":[
                        {
                            "name":"t",
                            "description":"Token de autenticação",
                            "required":true,
                            "type":"string",
                            "paramType":"query"
                        }
                    ]
                }
            ]
        }
    ],
    "models":{
        "RegraRedeRelacionamentoDeleteRequest":{
            "properties":{
                "idRegra":{
                    "type":"string",
                    "required":true
                }
            }
        },
        "RegraRedeRelacionamentoGetResponse":{
            "properties":{
                "regras":{
                    "type":"array",
                    "required":true,
                    "items":{
                        "$ref":"RegraRedeRelacionamento"
                    }
                }
            }
        },
        "RegraRedeRelacionamento":{
            "properties":{
                "idPio":{
                    "type":"string",
                    "required":true
                },
                "nome":{
                    "type":"string",
                    "required":true
                },
                "criterios":{
                    "type":"array",
                    "required":true,
                    "items":{
                        "$ref":"CriterioRegra"
                    }
                },
                "idRegraRedeRelacionamento":{
                    "type":"string"
                }
            }
        },
        "CriterioRegra":{
            "properties":{
                "nomeTabela":{
                    "type":"string"
                },
                "nomeCampo":{
                    "type":"string"
                },
                "operador":{
                    "type":"string",
                    "allowableValues":{
                        "valueType":"list",
                        "values":[
                            "MAIOR",
                            "MENOR",
                            "MAIOR_OU_IGUAL",
                            "MENOR_OU_IGUAL",
                            "IGUAL",
                            "DIFERENTE",
                            "E",
                            "OU",
                            "PARENTESE_ESQUERDO",
                            "PARENTESE_DIREITO"
                        ]
                    },
                    "required":true
                },
                "ordem":{
                    "type":"int",
                    "required":true
                },
                "valor":{
                 "type":"string"   
                },
                "tabelaDominio":{
                 "type":"string"   
                }
            }
        },
        "RegraRedeRelacionamentoPostRequest":{
            "properties":{
                "regraRedeRelacionamento":{
                    "type":"RegraRedeRelacionamento",
                    "required":true
                }
            }
        },
        "RegraRedeRelacionamentoPutRequest":{
            "properties":{
                "regraRedeRelacionamento":{
                    "type":"RegraRedeRelacionamento",
                    "required":true
                }
            }
        },
        "RegraRedeRelacionamentoPostResponse":{
            "properties":{
                "regraRedeRelacionamento":{
                    "type":"RegraRedeRelacionamento"
                }
            }
        },
        "RegraRedeRelacionamentoPutResponse":{
            "properties":{
                "regraRedeRelacionamento":{
                    "type":"RegraRedeRelacionamento"
                }
            }
        },
        "RegraCampoEntidadeResponse":{
            "properties":{
                "camposEntidade":{
                    "type":"array",
                    "required":true,
                    "items":{
                        "$ref":"CampoEntidade"
                    }
                }
            }
        },
        "CampoEntidade":{
            "properties":{
                "nomeExibicao":{
                    "type":"string",
                    "required":true
                },
                "nomeCampo":{
                    "type":"string",
                    "required":true
                },
                "tabelaDominio":{
                    "type":"string"
                }
            }
        },
        "RegraEntidadeDisponivelGetResponse":{
            "properties":{
                "entidades":{
                    "type":"array",
                    "required":true,
                    "items":{
                        "$ref":"TabelaEntidade"
                    }
                }
            }
        },
        "TabelaEntidade":{
            "properties":{
                "nomeExibicao":{
                    "type":"string",
                    "required":true
                },
                "nomeTabela":{
                    "type":"string",
                    "required":true
                },
                "idTabelaEntidade":{
                    "type":"string",
                    "required":true
                }
            }
        },
        "RegraRedeRelacionamentoExecutarRequest":{
            "properties":{
                "regraRedeRelacionamento":{
                    "type":"RegraRedeRelacionamento",
                    "required":true
                }
            }
        },
        "RegraRedeRelacionamentoExecutarGetResponse":{
            "properties":{
                "entidades":{
                    "type":"array",
                    "required":true,
                    "items":{
                        "$ref":"EntidadeRegra"
                    }
                }
            }
        },
        "EntidadeRegra":{
            "properties":{
                "idEntidadeRegra":{
                    "type":"string",
                    "required":true
                },
                "nome":{
                    "type":"string",
                    "required":true
                },
                "categoriaEntidade":{
                    "type":"string",
                    "required":true
                }
            }
        },
        "RedeRelacionamentoGerarRequest":{
            "properties":{
                "entidadeIds":{
                    "type":"array",
                    "required":true,
                    "items":{
                        "$ref":"EntidadeId"
                    }
                }
            }
        },
        "EntidadeId":{
            "properties":{
                "id":"string"
            }
        },
        "EntidadeRelacionamento":{
            "properties":{
                "idEntidadeRelacionamento":{
                    "type":"string"
                },
                "idItem":{
                  "type":"string"  
                },
                "nome":{
                    "type":"string",
                    "required":true
                },
                "codigoCategoria":{
                  "type":"string",
                  "required":true  
                },
                "tipoRelacionamento":{
                    "type":"string"
                },
                "posicaoX":{
                    "type":"int",
                    "required":true
                },
                "posicaoY":{
                    "type":"int",
                    "required":true
                },
                "selecionadoNaRegra":{
                    "type":"boolean",
                    "required":true
                }
            }
        },
        "RedeRelacionamentoPostRequest":{
            "properties":{
                "redeRelacionamento":{
                    "type":"RedeRelacionamento",
                    "required":true
                }
            }
        },
        "RedeRelacionamento":{
            "properties":{
                "vertices":{
                    "type":"array",
                    "items":{
                        "$ref":"EntidadeRelacionamento"
                    }
                },
                "arestas":{
                    "type":"array",
                    "items":{
                        "$ref":"Aresta"
                    }
                },
                "idRedeRelacionamento":{
                    "type":"string"
                },
                "nome":{
                    "type":"string",
                    "required":true
                },
                "idUsuario":{
                    "type":"string",
                    "required":true
                },
                "idPio":{
                  "type":"string",
                  "required":true
                },
                "idRegra":{
                    "type":"string"
                },
                "largura":{
                    "type":"int"
                },
                "altura":{
                    "type":"int"
                },
                "zoom":{
                    "type":"int"
                },
                "panX":{
                    "type":"int"
                },
                "panY":{
                    "type":"int"
                }
            }
        },
        "RedeRelacionamentoPostResponse":{
            "properties":{
                "redeRelacionamento":{
                    "type":"RedeRelacionamento"
                }
            }
        },
        "RedeRelacionamentoPutRequest":{
            "properties":{
                "redeRelacionamento":{
                    "type":"RedeRelacionamento",
                    "required":true
                }
            }
        },
        "RedeRelacionamentoResponse":{
            "properties":{
                "redeRelacionamento":{
                    "type":"RedeRelacionamento"
                }
            }
        },
        "RedeRelacionamentoDeleteRequest":{
            "properties":{
                "redeRelacionamentoId":{
                    "type":"string",
                    "required":true
                }
            }
        },
        "RedeRelacionamentoGetRequest":{
            "properties":{
                "idPio":{
                    "type":"string"
                }
            }
        },
        "RedeRelacionamentoGetResponse":{
            "properties":{
                "redes":{
                    "type":"array",
                    "items":{
                        "$ref":"RedeRelacionamento"
                    }
                }
            }
        },
        "RegraRedeRelacionamentoValidarResponse":{
            "properties":{
                "valida":{
                    "type":"boolean"
                }
            }
        },
        "RegraRedeRelacionamentoValidarRequest":{
            "properties":{
                "regraRedeRelacionamento":{
                    "type":"RegraRedeRelacionamento",
                    "required":true
                }
            }
        },
        "Aresta":{
            "properties":{
                "sujeito":{
                    "type":"EntidadeRelacionamento"
                },
                "objeto":{
                    "type":"EntidadeRelacionamento"
                },
                "relacionamento":{
                    "type":"string"   
                }
            }
        },
        "PiosRedeRelacionamento":{
        	"properties":{
		        "pioIds":{
	                "type":"array",
	                "items":{
	                    "type":"string"
	                }
	            }
            }
        }
    }
}